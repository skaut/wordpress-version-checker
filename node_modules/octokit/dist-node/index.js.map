{"version":3,"file":"index.js","sources":["../dist-src/version.js","../dist-src/octokit.js","../dist-src/app.js"],"sourcesContent":["export const VERSION = \"1.7.0\";\n","import { Octokit as OctokitCore } from \"@octokit/core\";\nimport { paginateRest } from \"@octokit/plugin-paginate-rest\";\nimport { restEndpointMethods } from \"@octokit/plugin-rest-endpoint-methods\";\nimport { retry } from \"@octokit/plugin-retry\";\n// import { throttling } from \"@octokit/plugin-throttling\";\nimport { VERSION } from \"./version\";\nexport const Octokit = OctokitCore.plugin(restEndpointMethods, paginateRest, retry\n// throttling\n).defaults({\n    userAgent: `octokit-rest.js/${VERSION}`,\n    throttle: {\n        onRateLimit,\n        onAbuseLimit,\n    },\n});\n// istanbul ignore next no need to test internals of the throttle plugin\nfunction onRateLimit(retryAfter, options, octokit) {\n    octokit.log.warn(`Request quota exhausted for request ${options.method} ${options.url}`);\n    if (options.request.retryCount === 0) {\n        // only retries once\n        octokit.log.info(`Retrying after ${retryAfter} seconds!`);\n        return true;\n    }\n}\n// istanbul ignore next no need to test internals of the throttle plugin\nfunction onAbuseLimit(retryAfter, options, octokit) {\n    octokit.log.warn(`Abuse detected for request ${options.method} ${options.url}`);\n    if (options.request.retryCount === 0) {\n        // only retries once\n        octokit.log.info(`Retrying after ${retryAfter} seconds!`);\n        return true;\n    }\n}\n","import { App as DefaultApp } from \"@octokit/app\";\nimport { OAuthApp as DefaultOAuthApp } from \"@octokit/oauth-app\";\nimport { Octokit } from \"./octokit\";\nexport const App = DefaultApp.defaults({ Octokit });\nexport const OAuthApp = DefaultOAuthApp.defaults({ Octokit });\nexport { createNodeMiddleware } from \"@octokit/app\";\n"],"names":["VERSION","Octokit","OctokitCore","plugin","restEndpointMethods","paginateRest","retry","defaults","userAgent","throttle","onRateLimit","onAbuseLimit","retryAfter","options","octokit","log","warn","method","url","request","retryCount","info","App","DefaultApp","OAuthApp","DefaultOAuthApp"],"mappings":";;;;;;;;;;;AAAO,MAAMA,OAAO,GAAG,mBAAhB;;MCMMC,OAAO,GAAGC,YAAW,CAACC,MAAZ,CAAmBC,6CAAnB,EAAwCC,+BAAxC,EAAsDC,iBAAtD;AAAA,EAErBC,QAFqB,CAEZ;AACPC,EAAAA,SAAS,EAAG,mBAAkBR,OAAQ,EAD/B;AAEPS,EAAAA,QAAQ,EAAE;AACNC,IAAAA,WADM;AAENC,IAAAA;AAFM;AAFH,CAFY,CAAhB;;AAUP,SAASD,WAAT,CAAqBE,UAArB,EAAiCC,OAAjC,EAA0CC,OAA1C,EAAmD;AAC/CA,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ,CAAkB,uCAAsCH,OAAO,CAACI,MAAO,IAAGJ,OAAO,CAACK,GAAI,EAAtF;;AACA,MAAIL,OAAO,CAACM,OAAR,CAAgBC,UAAhB,KAA+B,CAAnC,EAAsC;AAClC;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,CAAkB,kBAAiBT,UAAW,WAA9C;AACA,WAAO,IAAP;AACH;AACJ;;;AAED,SAASD,YAAT,CAAsBC,UAAtB,EAAkCC,OAAlC,EAA2CC,OAA3C,EAAoD;AAChDA,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ,CAAkB,8BAA6BH,OAAO,CAACI,MAAO,IAAGJ,OAAO,CAACK,GAAI,EAA7E;;AACA,MAAIL,OAAO,CAACM,OAAR,CAAgBC,UAAhB,KAA+B,CAAnC,EAAsC;AAClC;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,CAAkB,kBAAiBT,UAAW,WAA9C;AACA,WAAO,IAAP;AACH;AACJ;;MC7BYU,GAAG,GAAGC,OAAU,CAAChB,QAAX,CAAoB;AAAEN,EAAAA;AAAF,CAApB,CAAZ;AACP,MAAauB,QAAQ,GAAGC,iBAAe,CAAClB,QAAhB,CAAyB;AAAEN,EAAAA;AAAF,CAAzB,CAAjB;;;;;;;;;;;;"}